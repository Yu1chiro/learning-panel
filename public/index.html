<!DOCTYPE html><html lang="id" class=""><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Learning Panel</title><script src="https://cdn.tailwindcss.com"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho+B1&display=swap" rel="stylesheet"><style>body{font-family:"Shippori Mincho B1",serif!important;font-weight:400;font-style:normal}</style><script>tailwind.config={darkMode:"class"};</script></head><body class="bg-stone-100 dark:bg-stone-900 text-stone-900 dark:text-stone-100 min-h-screen antialiased transition-colors duration-200"><header class="bg-white/80 dark:bg-stone-800/80 border-b border-stone-200 dark:border-stone-700 sticky top-0 z-10 backdrop-blur-sm"><nav class="container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6"><div class="flex justify-between items-center"><h1 class="text-2xl sm:text-3xl font-semibold text-stone-900 dark:text-stone-100 tracking-tight">Learning Panel</h1><button id="theme-toggle-btn" class="relative w-12 h-12 p-2"><span class="sr-only">Toggle theme</span> <i id="sun-icon" class="fa-solid fa-sun text-xl absolute inset-0 m-auto"></i> <i id="moon-icon" class="fa-solid fa-moon text-xl absolute inset-0 m-auto"></i></button></div></nav></header><main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 max-w-6xl"><h2 class="text-lg font-medium text-stone-900 dark:text-stone-100 mb-3">Materi</h2><p class="text-sm mb-8 text-stone-600 dark:text-stone-400 leading-relaxed">Material based on Nihongo Kira-Kira</p><div id="chapters-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6"><div id="loading-placeholder" class="text-center p-8 text-sm text-stone-500 dark:text-stone-400 col-span-full">Memuat materi...</div></div></main><footer class="border-t border-stone-200 dark:border-stone-700 mt-16"><div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8"><p class="text-xs text-stone-500 dark:text-stone-400 text-center">&copy; Yuii | 2025</p></div></footer><div id="welcome-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 backdrop-blur-sm hidden"><div class="bg-white dark:bg-stone-800 border border-stone-200 dark:border-stone-700 rounded-lg shadow-xl max-w-md w-full p-6 md:p-8 mx-4"><h2 class="text-xl font-semibold text-stone-900 dark:text-stone-100 tracking-tight mb-4">Konnichiwa!</h2><p class="text-sm text-stone-600 dark:text-stone-400 leading-relaxed mb-6">Selamat datang di Learning Panel. Platform ini di desain untuk kamu agar bisa memahami secara lebih mendalam intisari dari Nihongo kira-kira secara terstruktur. Silahkan klik salah satu card untuk memulai pembelajaran ya!</p><button id="modal-understand-btn" class="w-full inline-flex items-center justify-center px-6 py-3 text-sm font-medium text-white dark:text-stone-900 bg-stone-900 dark:bg-stone-100 hover:bg-stone-800 dark:hover:bg-stone-200 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-stone-900 dark:focus:ring-stone-100 focus:ring-offset-2 dark:focus:ring-offset-stone-800">Hai, wakarimashita!</button></div></div><script>document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("welcome-modal"),t=document.getElementById("modal-understand-btn"),a="welcomeModalSeen";if(!e||!t){console.warn("Elemen modal selamat datang tidak ditemukan.");return}localStorage.getItem(a)||(e.classList.remove("hidden"),e.classList.add("flex")),t.addEventListener("click",()=>{e.classList.add("hidden"),e.classList.remove("flex");try{localStorage.setItem(a,"true")}catch(n){console.warn("Gagal menyimpan status modal ke localStorage.",n)}})});</script><script>(function(){try{const e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;e==="dark"||!e&&t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}catch(e){console.warn("Could not apply theme from localStorage.",e)}})();</script><script>var c=(s,d,o)=>new Promise((t,n)=>{var e=a=>{try{i(o.next(a))}catch(l){n(l)}},r=a=>{try{i(o.throw(a))}catch(l){n(l)}},i=a=>a.done?t(a.value):Promise.resolve(a.value).then(e,r);i((o=o.apply(s,d)).next())});document.addEventListener("DOMContentLoaded",()=>c(null,null,function*(){const s=document.getElementById("chapters-container"),d=document.getElementById("loading-placeholder");function o(t){if(d.classList.add("hidden"),t.length===0){s.innerHTML='<p class="text-sm text-stone-600 dark:text-stone-400 col-span-full text-center py-8">Belum ada materi yang tersedia saat ini.</p>';return}const n=e=>{const r=e.match(/\d+/);return r?parseInt(r[0],10):1/0};t.sort((e,r)=>n(e.title)-n(r.title)),s.innerHTML="",t.forEach(e=>{const r=`
                <a href="/study?babId=${e.id}" class="bg-white border border-stone-200 rounded-lg overflow-hidden transition-all duration-200 hover:border-stone-600 hover:shadow-md group dark:bg-stone-800 dark:border-stone-700 dark:hover:border-stone-300">
                    <div class="p-6">
                        <h3 class="text-lg font-semibold text-stone-900 mb-2 tracking-tight group-hover:text-stone-700 transition-colors duration-200 dark:text-stone-100 dark:group-hover:text-stone-200">${e.title}</h3>
                        <p class="text-sm text-stone-600 mb-3 leading-relaxed min-h-[40px] dark:text-stone-400">${e.description||"Klik untuk mulai belajar."}</p>
                        <p class="text-sm text-stone-600 leading-relaxed min-h-[40px] dark:text-stone-400">Klik untuk mulai belajar</p>
                    </div>
                </a>
                `;s.innerHTML+=r})}try{console.log("Daftar bab di-fetch dari server...");const t=yield fetch("/api/chapters");if(!t.ok)throw new Error("Gagal mengambil data dari server.");const n=yield t.json();o(n)}catch(t){console.error("Error fetching chapters:",t),d.innerHTML='<p class="text-sm text-red-600 col-span-full text-center py-8">Gagal memuat materi. Silakan coba lagi nanti.</p>'}}));</script><script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script><script>document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("theme-toggle-btn"),e=document.getElementById("sun-icon"),a=document.getElementById("moon-icon"),t=document.documentElement;function o(s){s?(gsap.to(e,{rotation:90,scale:0,opacity:0,duration:.3,ease:"power1.in"}),gsap.fromTo(a,{rotation:-90,scale:0,opacity:0},{rotation:0,scale:1,opacity:1,duration:.3,ease:"power1.out",delay:.1})):(gsap.to(a,{rotation:90,scale:0,opacity:0,duration:.3,ease:"power1.in"}),gsap.fromTo(e,{rotation:-90,scale:0,opacity:0},{rotation:0,scale:1,opacity:1,duration:.3,ease:"power1.out",delay:.1}))}function c(){t.classList.contains("dark")?(gsap.set(e,{scale:0,opacity:0,rotation:90}),gsap.set(a,{scale:1,opacity:1,rotation:0})):(gsap.set(e,{scale:1,opacity:1,rotation:0}),gsap.set(a,{scale:0,opacity:0,rotation:-90}))}c(),n.addEventListener("click",()=>{t.classList.contains("dark")?(t.classList.remove("dark"),localStorage.setItem("theme","light"),o(!1)):(t.classList.add("dark"),localStorage.setItem("theme","dark"),o(!0))}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",s=>{localStorage.getItem("theme")||(s.matches?(t.classList.add("dark"),o(!0)):(t.classList.remove("dark"),o(!1)))})});</script></body></html>